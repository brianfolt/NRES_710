<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="NRES 710" />


<title>Linear Regression - predictions</title>

<script src="site_libs/header-attrs-2.27/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">NRES 710</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Syllabus</a>
</li>
<li>
  <a href="schedule.html">Schedule</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lecture_1.html">Syllabus and the Purpose of Statistics</a>
    </li>
    <li>
      <a href="lecture_2.html">P-value Discussion and Intro to R</a>
    </li>
    <li>
      <a href="lecture_3.html">Sampling Uncertainty</a>
    </li>
    <li>
      <a href="lecture_4.html">Linear Regression</a>
    </li>
    <li>
      <a href="lecture_5.html">Linear Regression - results</a>
    </li>
    <li>
      <a href="lecture_6.html">Linear Regression - assumptions</a>
    </li>
    <li>
      <a href="lecture_7.html">Linear Regression - predictions</a>
    </li>
    <li>
      <a href="lecture_8.html">Analysis of Categorical Data</a>
    </li>
    <li>
      <a href="lecture_9.html">Analysis of Categorical Data (cont.)</a>
    </li>
    <li>
      <a href="LECTURE3.html">Taxonomy of common statistics</a>
    </li>
    <li>
      <a href="LECTURE4.html">t-test and z-test</a>
    </li>
    <li>
      <a href="LECTURE5.html">chi-squared tests</a>
    </li>
    <li>
      <a href="LECTURE6.html">Linear Regression</a>
    </li>
    <li>
      <a href="LECTURE7.html">ANOVA</a>
    </li>
    <li>
      <a href="LECTURE8.html">GLM</a>
    </li>
    <li>
      <a href="LECTURE9.html">GLMM</a>
    </li>
    <li>
      <a href="LECTURE10.html">Machine Learning</a>
    </li>
    <li>
      <a href="GIT_tutorial.html">Intro to GIT</a>
    </li>
    <li>
      <a href="LECTURE11.html">Next steps</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Exercises
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="exercise_1.html">Exercise 1 - Data Summary Functions</a>
    </li>
    <li>
      <a href="exercise_2.html">Exercise 2 - Linear Regression</a>
    </li>
    <li>
      <a href="exercise_3.html">Exercise 3 - Linear Regression (cont.)</a>
    </li>
    <li>
      <a href="exercise_4.html">Exercise 4 - Analysis of Categorical Data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    More Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Links.html">Links</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Linear Regression - predictions</h1>
<h4 class="author">NRES 710</h4>
<h4 class="date">Last compiled: 2024-08-01</h4>

</div>


<div id="predictions" class="section level2">
<h2>Predictions</h2>
<p>Using our statistical models (i.e., our statistical analyses) to make
predictions is a really important component of science. Perhaps the
ultimate goal. We are seeking to understand nature and make predictive
models for how it works! If you can’t make predictions from your
statistical model, then we might argue that your model needs some
work.</p>
<p><strong>Quality of science</strong></p>
<ul>
<li>Level 1: is there a difference between groups? P-values. Bare
minimum.</li>
<li>Level 2: what is the difference between groups? Effect sizes. Next
step up.</li>
<li>Level 3: measure effects and make predictions from them.</li>
</ul>
<p>For me personally, I am a conservation biologist who studies wildlife
populations. I try to measure the demographic rates of populations: what
are the survival and reproductive rate of turtles in a population each
year, and how does survival and reproduction vary by age? I then try to
use those models for age-structured demographic rates to make
predictions about how populations will grow or decline in size. This is
often called ‘population viability analysis’. My ultimate goal is to
generate models for whether populations will persist or not.</p>
<div id="simple-predictions" class="section level3">
<h3>Simple predictions</h3>
<p>Ultimately, prediction comes back to our linear model:</p>
<p><strong><span class="math inline">\(Y = \beta_0 + \beta_1 X_1 +
\epsilon \sim N(0, \sigma)\)</span></strong></p>
<p>To make predictions, we can:</p>
<ul>
<li>Fit our regression model</li>
<li>Measure betas</li>
<li>Get some new X-variable data</li>
<li>Solve for Y! This is making predictions.</li>
</ul>
<p>For example, let’s say we have results from a regression model
explaining how biomass (kg/ha) changes as a consequence of rainfall
(cm). Our results are:</p>
<ul>
<li><strong>beta0 = 3.87 and beta1 = 6.55</strong></li>
<li>We want to use the model to predict what biomass might be when
rainfall = 5 cm.</li>
<li><strong>Y = 1.55 + 2.05 * 5</strong></li>
<li><strong>= 1.55 + 10.25</strong></li>
<li><strong>= 11.80 kg/ha –&gt; 5 cm</strong></li>
</ul>
<p>We would predict to observe 11.80 kg/ha biomass when an area gets 5
cm of rain.</p>
</div>
<div id="when-can-we-make-predictions" class="section level3">
<h3>When can we make predictions?</h3>
<p>Let’s examine the biomass example with a scatterplot:</p>
<p><img src="lecture_7_files/figure-html/biomass-1.png" width="432" /></p>
<p>We don’t have any data around when rainfall ~ 2 cm. Let’s say you
want to know how much biomass you might expect at the vertical dashed
line – 2 cm rainfall. Can we do that? <strong>Yes!</strong></p>
<p><strong>Interpolation (good) – making predictions within the range of
observed data.</strong></p>
<p>Let’s say you want to know how much biomass you might expect when
there is 15 cm of rainfall. Can we do that? <strong>Yes.</strong></p>
<p><strong>Extrapolation (be careful) – making predictions outside the
range of observed data.</strong></p>
<ul>
<li>It’s not a bad practice, but we need to be <strong>very clear to
ourselves and our readers</strong> that we are extrapolating. We don’t
know if the relationship we observed <em>changes</em> outside of the
observed data. Maybe it becomes nonlinear! We need to be honest about
potential limitations.</li>
</ul>
</div>
<div id="uncertainty" class="section level3">
<h3>Uncertainty</h3>
<p>Anytime we provide an estimate of truth with out statistical model,
we provide a measure of uncertainty. If we estimate a slope, difference
between groups, whatever – we always provide estimates of confidence
intervals. We always convey how certain we are of those estimates.</p>
<p>We must do the same for predictions.</p>
<p>In the rainfall prediction example above, we aren’t going to provide
confidence intervals, but will instead provide <strong>prediction
intervals</strong>.</p>
<p><strong>Confidence intervals</strong> – 95% of all such intervals
contain the true value; <strong>a measure of uncertainty in the
<em>estimate</em></strong>.</p>
<ul>
<li>When we generate an estimate of biomass at 5 cm rainfall, we are
making an average estimate and uncertainty.</li>
<li>Confidence intervals usually fall inside the individual data.</li>
</ul>
<p><img src="lecture_7_files/figure-html/biomass-2-1.png" width="432" /></p>
<p><strong>Prediction intervals – a measure of uncertainty in the
individual outcomes</strong></p>
<ul>
<li>When we make predictions, we make making predictions about
individual outcomes, and there will be more uncertainty.</li>
<li>Prediction intervals are outside of most data. For example:</li>
</ul>
<p><img src="lecture_7_files/figure-html/biomass-3-1.png" width="432" /></p>
<p>A prediction interval will capture most (95%) of the data.</p>
<p><strong>Q:</strong> What do you notice about the shape of how I drew
the confidence intervals and aprediction intervals?</p>
<p>They are somewhat pinched in the middle. This is because we have more
data in the middle, we gives us more certainty about in what the true
estimate is and individual outcomes are.</p>
<p>However, at the tails we have less data, and thus we have less
certainty about the estimate and individual outcomes. And if we
<strong>extrapolate</strong>, the uncertainty will be larger.</p>
</div>
<div id="prediction-summary" class="section level3">
<h3>Prediction summary</h3>
<ol style="list-style-type: decimal">
<li>Predictions are basic math</li>
<li>Difference between interpolation and extrapolation, and differences
in your confidence of these estimates</li>
<li>Difference between prediction and confidence intervals</li>
</ol>
</div>
</div>
<div id="making-predictions" class="section level2">
<h2>Making predictions</h2>
<p>Let’s show you how to make predictions in R, including with
<strong>prediction intervals</strong>. We will have R do this for
us!</p>
<p>Before we make predictions, we first have to run our analysis. Let’s
use the results from the biomass x rainfall data regression
analysis.</p>
<pre class="r"><code># Read in the biomass data again, if necessary
datum &lt;- read.csv(&quot;lecture_7_biomass_data.csv&quot;)

# Plot
plot(biomass ~ rainfall, data = datum, xlab = &quot;Rainfall (cm)&quot;, ylab = &quot;Biomass (kg/ha)&quot;)

# Regression
results &lt;- lm(biomass ~ rainfall, data = datum)
abline(results)</code></pre>
<p><img src="lecture_7_files/figure-html/predict_1-1.png" width="432" /></p>
<div id="single-value-predictions" class="section level3">
<h3>Single-value predictions</h3>
<p>Let’s say we want to know what the biomass is predicted to be when
rainfall = 5 cm. We would simply do this using the linear model
results:</p>
<pre class="r"><code># Examine the results 
summary(results)</code></pre>
<pre><code>## 
## Call:
## lm(formula = biomass ~ rainfall, data = datum)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -7.5900 -3.5251 -0.1904  2.7917  9.7029 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)   4.0817     2.7522   1.483    0.162    
## rainfall      2.8223     0.4336   6.510 1.97e-05 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.701 on 13 degrees of freedom
## Multiple R-squared:  0.7652, Adjusted R-squared:  0.7472 
## F-statistic: 42.37 on 1 and 13 DF,  p-value: 1.974e-05</code></pre>
<pre class="r"><code># Make a prediction for when rainfall = 5 cm
4.08 + 2.82 * 5</code></pre>
<pre><code>## [1] 18.18</code></pre>
<p>18.18 kg/ha biomass when rainfall is 5 cm!</p>
<p>The most common (and easy) way to make predictions in R is using the
‘predict()’ function. We will use ‘predict.lm()’.</p>
<pre class="r"><code># Examine the help file
help(predict.lm)</code></pre>
<p>Things that ‘predict.lm()’ needs:</p>
<ul>
<li>Your regression! Results from your regression.</li>
<li>‘newdata’ – these X-values that you want to make predictions for;
interpolation, or extrapolation. This ‘newdata’ has to have an X-column
that matches the X-column from your original data.</li>
<li>Interval – whether or not you want ‘confidence’ or ‘prediction’
intervals; you need to include <em>interval = “prediction”</em>.</li>
<li>Other stuff you can ignore.</li>
</ul>
<p>Let’s try to validate my prediction for biomass when rainfall = 5
cm.</p>
<pre class="r"><code># Create predict data
datumPredict &lt;- data.frame(rainfall = 5)
datumPredict</code></pre>
<pre><code>##   rainfall
## 1        5</code></pre>
<pre class="r"><code># Create a new object called predictions
predictions &lt;- predict(results, datumPredict, interval = &quot;prediction&quot;)
predictions</code></pre>
<pre><code>##        fit      lwr      upr
## 1 18.19322 7.684521 28.70192</code></pre>
<p>Three outputs: fit, lwr, and upr.</p>
<ul>
<li>fit – this is our prediction! And it matches pretty closely to what
we calculated by ‘hand’ with our linear model.</li>
<li>instead of intervals, we get limits:
<ul>
<li>lower prediction limit (lwr) –</li>
<li>upper prediction limit (upr) –</li>
</ul></li>
<li>if we want the prediction interval, we need to do some math:</li>
</ul>
<pre class="r"><code>predictions[1,&quot;upr&quot;] - predictions[1,&quot;fit&quot;]</code></pre>
<pre><code>## [1] 10.5087</code></pre>
<p>The 95% prediction interval is +/-10.51.</p>
</div>
<div id="predictions-for-data" class="section level3">
<h3>Predictions for data</h3>
<p>Normally we will want to make predictions over a good interval range
that encompasses our X-data. This might help us fill in some holes.</p>
<pre class="r"><code># Examine summary
summary(datum)</code></pre>
<pre><code>##        X           rainfall         biomass      
##  Min.   : 1.0   Min.   :0.4556   Min.   : 3.748  
##  1st Qu.: 4.5   1st Qu.:4.3116   1st Qu.:17.033  
##  Median : 8.0   Median :5.5144   Median :19.001  
##  Mean   : 8.0   Mean   :5.6972   Mean   :20.161  
##  3rd Qu.:11.5   3rd Qu.:8.3566   3rd Qu.:24.150  
##  Max.   :15.0   Max.   :9.5683   Max.   :40.327</code></pre>
<pre class="r"><code># Let&#39;s make predictions between 0 -- 10 cm of rainfall
# And let&#39;s try to make 20 predictions across this interval: 10cm/20predictions = a prediction every 0.5 cm
datumPredict &lt;- data.frame(rainfall = seq(from = 0, to = 10, by = 0.5))

# Make the predictions
predictions &lt;- predict(results, datumPredict, interval = &quot;prediction&quot;)

# Examine predictions
head(predictions)</code></pre>
<pre><code>##         fit        lwr      upr
## 1  4.081750 -7.6861117 15.84961
## 2  5.492897 -6.0701302 17.05592
## 3  6.904044 -4.4697545 18.27784
## 4  8.315192 -2.8857754 19.51616
## 5  9.726339 -1.3189629 20.77164
## 6 11.137486  0.2299483 22.04502</code></pre>
<p>We now have a whole sequence of predictions, as well as lower and
upper ‘prediction intervals’!</p>
<p>An annoying feature here is that we don’t really have X-value data in
here; the ‘rainfall’ data.</p>
<pre class="r"><code># Make it a dataframe to make it easier to add data to it.
predictions &lt;- as.data.frame(predictions)

# Add a new column
predictions$rainfall &lt;- seq(from = 0, to = 10, by = 0.5)

# Examine
predictions</code></pre>
<pre><code>##          fit        lwr      upr rainfall
## 1   4.081750 -7.6861117 15.84961      0.0
## 2   5.492897 -6.0701302 17.05592      0.5
## 3   6.904044 -4.4697545 18.27784      1.0
## 4   8.315192 -2.8857754 19.51616      1.5
## 5   9.726339 -1.3189629 20.77164      2.0
## 6  11.137486  0.2299483 22.04502      2.5
## 7  12.548634  1.7602722 23.33699      3.0
## 8  13.959781  3.2713872 24.64817      3.5
## 9  15.370928  4.7627500 25.97911      4.0
## 10 16.782075  6.2339102 27.33024      4.5
## 11 18.193223  7.6845215 28.70192      5.0
## 12 19.604370  9.1143520 30.09439      5.5
## 13 21.015517 10.5232908 31.50774      6.0
## 14 22.426665 11.9113510 32.94198      6.5
## 15 23.837812 13.2786696 34.39695      7.0
## 16 25.248959 14.6255032 35.87242      7.5
## 17 26.660107 15.9522210 37.36799      8.0
## 18 28.071254 17.2592942 38.88321      8.5
## 19 29.482401 18.5472837 40.41752      9.0
## 20 30.893549 19.8168260 41.97027      9.5
## 21 32.304696 21.0686186 43.54077     10.0</code></pre>
<p>Pretty cool!?</p>
<p>Last thing I want to show you: plotting the prediction intervals over
the range of X-values.</p>
<pre class="r"><code># Very simple way to plot the prediction intervals
matplot(predictions$rainfall, predictions[,1:3], type = &quot;l&quot;)</code></pre>
<p><img src="lecture_7_files/figure-html/predict_8-1.png" width="432" /></p>
<p>This graph ain’t too pretty.</p>
<p><strong>Q:</strong> What’s this graph missing? The original data.</p>
<pre class="r"><code># Plot the data, but this time specify what the x- and y-limits are.
# This is important to make sure everything will fit on here.
plot(biomass ~ rainfall, data = datum, xlim = c(0, 10), ylim = c(0, 40), xlab = &quot;Rainfall (cm)&quot;, ylab = &quot;Biomass (kg/ha)&quot;)

# But now we have to add other data onto here, without erasing the original data.
# Specify the parameter: new = TRUE
par(new = TRUE)
plot(fit ~ rainfall, data = predictions, type = &quot;l&quot;, xlim = c(0, 10), ylim = c(0, 40), ylab = &quot;&quot;, xlab = &quot;&quot;)
par(new = TRUE)
plot(lwr ~ rainfall, data = predictions, type = &quot;l&quot;, xlim = c(0, 10), ylim = c(0, 40), ylab = &quot;&quot;, xlab = &quot;&quot;)
par(new = TRUE)
plot(upr ~ rainfall, data = predictions, type = &quot;l&quot;, xlim = c(0, 10), ylim = c(0, 40), ylab = &quot;&quot;, xlab = &quot;&quot;)</code></pre>
<p><img src="lecture_7_files/figure-html/predict_9-1.png" width="432" /></p>
<p>This is more useful, I would say!</p>
<p>That being said, there are definitely better approaches to graphing
predictions out there, likely using ‘ggplot2’ package.</p>
<p><strong>Final thought</strong>: This approach to prediction will be
one that we can use for the rest of the semester with all of the more
complicated analytical models we will learn!</p>
<p><a href="lecture_8.html">–go to next lecture–</a></p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
